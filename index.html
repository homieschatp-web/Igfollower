<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IG follower  | Authentication Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2fe; --dark: #020617; }
        body { 
            background: var(--dark); color: #e2e8f0; font-family: 'Poppins', sans-serif; 
            background: radial-gradient(circle at 50% 50%, #001a33 0%, #020617 100%);
            min-height: 100vh; display: flex; align-items: center; justify-content: center;
        }
        .orbitron { font-family: 'Orbitron', sans-serif; }
        .glass { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(15px); border: 1px solid rgba(0, 242, 254, 0.2); border-radius: 32px; }
        .neon-btn { transition: all 0.3s ease; border: 1px solid rgba(0, 242, 254, 0.3); }
        .neon-btn:hover { box-shadow: 0 0 20px rgba(0, 242, 254, 0.4); background: var(--neon); color: black; }
        .input-field { background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.05); transition: all 0.3s; }
        .input-field:focus { border-color: var(--neon); box-shadow: 0 0 10px rgba(0, 242, 254, 0.1); outline: none; }
    </style>
</head>
<body>

    <div class="glass p-10 w-full max-w-md mx-4 shadow-2xl">
        <div class="text-center mb-10">
            <h1 class="orbitron text-2xl font-bold tracking-widest mb-2">NEXUS_<span class="text-cyan-400">AUTH</span></h1>
            <p class="text-[10px] text-slate-500 uppercase tracking-[0.3em]">Accessing Secure Server</p>
        </div>

        <div id="auth-form" class="space-y-5">
            <div>
                <label class="text-[10px] orbitron text-slate-400 ml-2 mb-2 block">EMAIL_ADDRESS</label>
                <input type="email" id="email" class="input-field w-full p-4 rounded-2xl text-sm" placeholder="operator@nexus.com">
            </div>
            
            <div id="pass-container">
                <label class="text-[10px] orbitron text-slate-400 ml-2 mb-2 block">ENCRYPTION_KEY</label>
                <input type="password" id="password" class="input-field w-full p-4 rounded-2xl text-sm" placeholder="••••••••">
            </div>

            <button id="main-btn" onclick="handleAuth()" class="w-full py-4 neon-btn rounded-2xl orbitron text-xs font-bold tracking-widest mt-4">LOGIN_INITIATE</button>
            
            <div class="flex justify-between items-center px-2">
                <button onclick="toggleMode()" id="toggle-text" class="text-[10px] text-slate-500 hover:text-cyan-400 transition">CREATE_NEW_ACCOUNT</button>
                <button onclick="forgotPassword()" class="text-[10px] text-slate-500 hover:text-red-400 transition">FORGOT_KEY?</button>
            </div>

            <div class="relative py-4">
                <div class="absolute inset-0 flex items-center"><div class="w-full border-t border-white/5"></div></div>
                <div class="relative flex justify-center text-[9px] orbitron"><span class="bg-[#0b1325] px-4 text-slate-600">OR_SOCIAL_LINK</span></div>
            </div>

            <button onclick="loginWithGoogle()" class="w-full py-4 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center gap-3 hover:bg-white/10 transition">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5">
                <span class="orbitron text-[10px] font-bold tracking-widest">GOOGLE_SYNC</span>
            </button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { 
            getAuth, 
            signInWithEmailAndPassword, 
            createUserWithEmailAndPassword, 
            sendPasswordResetEmail,
            GoogleAuthProvider,
            signInWithPopup
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCoVj4nvQJULBMD_KYpGfRWi4npme6RNnM",
            authDomain: "mms-f37cf.firebaseapp.com",
            projectId: "mms-f37cf",
            storageBucket: "mms-f37cf.firebasestorage.app",
            messagingSenderId: "85615411698",
            appId: "1:85615411698:web:ab25f02dac6efa1e6eeb6b",
            measurementId: "G-8WXLN2S30L"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const googleProvider = new GoogleAuthProvider();

        let isLoginMode = true;

        // Toggle between Login and Create Account
        window.toggleMode = () => {
            isLoginMode = !isLoginMode;
            document.getElementById('main-btn').innerText = isLoginMode ? "LOGIN_INITIATE" : "REGISTER_IDENTITY";
            document.getElementById('toggle-text').innerText = isLoginMode ? "CREATE_NEW_ACCOUNT" : "RETURN_TO_LOGIN";
        };

        // Handle Email/Pass Auth
        window.handleAuth = async () => {
            const email = document.getElementById('email').value;
            const pass = document.getElementById('password').value;

            if(!email || !pass) return alert("Fill all fields");

            try {
                if(isLoginMode) {
                    await signInWithEmailAndPassword(auth, email, pass);
                } else {
                    await createUserWithEmailAndPassword(auth, email, pass);
                    alert("Account Created!");
                }
                window.location.href = "home.html";
            } catch (err) {
                alert(err.message);
            }
        };

        // Google Login
        window.loginWithGoogle = async () => {
            try {
                await signInWithPopup(auth, googleProvider);
                window.location.href = "home.html";
            } catch (err) {
                alert(err.message);
            }
        };

        // Forgot Password
        window.forgotPassword = async () => {
            const email = document.getElementById('email').value;
            if(!email) return alert("Enter your email first");
            
            try {
                await sendPasswordResetEmail(auth, email);
                alert("Reset link sent to your email!");
            } catch (err) {
                alert(err.message);
            }
        };
    </script>
</body>
</html>
